import{d as v,G as c,U as r,_ as g,a as _,S as p,b as f,E as S,p as y,c as w,e as n,f as o,t as C,w as m,F as G,r as i,o as W,g as l,h as U,i as k}from"./assets/style.de190a1c.js";const x=e=>e.words.then(a=>new c(BigInt(Date.now()),.4,e.primitive,a)),t=v("game",{state:()=>({game:null,lives:c.initialLivesAmount(),score:0,currentWord:"",_unseenSetID:r.Top999WiktionaryFr}),actions:{async commitSeen(){this.game&&(this.game.commitSeen(),this.score=this.game.score(),this.lives=this.game.lives())},async commitUnseen(){this.game&&(this.game.commitUnseen(),this.score=this.game.score(),this.lives=this.game.lives())},async updateCurrentWord(){const e=this.game?.next();e&&(this.currentWord=e)},async setUnseenSet(e){this.$reset(),x(e).then(a=>{this._unseenSetID=e,this.game=a,this.updateCurrentWord()})}}}),b={data:()=>({select:r.Top999WiktionaryFr.primitive}),components:{GradientButton:_,ScoreBoard:p,UnseenSetDropdown:f},methods:{async commitSeen(){await t().commitSeen(),this.lives>0?t().updateCurrentWord():this.goToGameOver()},async commitUnseen(){await t().commitUnseen(),this.lives>0?t().updateCurrentWord():this.goToGameOver()},reset(){t().$reset(),t().updateCurrentWord()},async goToGameOver(){const e=new S(t().game.intoGameOver());window.location.href=`${y("/deja-vu/","game-over")}?${e.asURLSearchParams()}`},async unseenSetChanged(e){await t().setUnseenSet(new r(e.target.value)),this.select=e.target.value}},computed:{currentWord:()=>t().currentWord,lives:()=>t().lives,score:()=>t().score,hasPlayedGame:()=>!(t().lives==c.initialLivesAmount()&&t().score==0)},created(){t().setUnseenSet(r.Top999WiktionaryFr)}},T={class:"flex justify-center"},B={class:"flex justify-center m-8"},O={class:"text-7xl"},j={class:"flex justify-center"},F={class:"grid gap-4 grid-cols-2"};function A(e,a,P,E,L,s){const u=i("unseen-set-dropdown"),h=i("score-board"),d=i("gradient-button");return W(),w(G,null,[n("div",T,[o(u,{class:"m-3",disabled:s.hasPlayedGame,select:e.select,onChange:s.unseenSetChanged},null,8,["disabled","select","onChange"])]),o(h,{score:s.score,lives:s.lives},null,8,["score","lives"]),n("div",null,[n("div",B,[n("p",O,C(s.currentWord),1)]),n("div",j,[n("div",F,[o(d,{onClick:s.commitSeen},{default:m(()=>[l("d\xE9j\xE0 vu")]),_:1},8,["onClick"]),o(d,{onClick:s.commitUnseen},{default:m(()=>[l("nouveau")]),_:1},8,["onClick"])])])])],64)}const D=g(b,[["render",A]]);U(D).use(k()).mount("#app");
